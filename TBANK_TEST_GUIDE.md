# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ T-Bank –ø–ª–∞—Ç–µ–∂–µ–π

## ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –ø–æ–¥–∫–ª—é—á–µ–Ω

**Terminal Key:** `1760898345949DEMO`  
**Password:** `m$4Hgg1ASpPUVfhj`  
**–¢–∏–ø:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ  
**–†–µ–∂–∏–º:** –¢–µ—Å—Ç–æ–≤—ã–π

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤:
- ‚úÖ `site/tbank-payment.js` - –∫–ª–∞—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã –≤–∫–ª—é—á–µ–Ω—ã
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∞–∫—Ç–∏–≤–µ–Ω

---

## üí≥ –¢–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã T-Bank

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã:

### –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞:
```
–ù–æ–º–µ—Ä: 4300 0000 0000 0777
–°—Ä–æ–∫: 12/25 (–∏–ª–∏ –ª—é–±–æ–π –±—É–¥—É—â–∏–π)
CVV: 123
3D-Secure: 12345678
```

### –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞:
```
–ù–æ–º–µ—Ä: 4300 0000 0000 0002
–°—Ä–æ–∫: 12/25
CVV: 123
```

### –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤:
```
–ù–æ–º–µ—Ä: 4300 0000 0000 0019
–°—Ä–æ–∫: 12/25
CVV: 123
```

---

## üß™ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –¢–µ—Å—Ç 1: –ü–æ–ª–Ω–∞—è –æ–ø–ª–∞—Ç–∞
```bash
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://miniapp.expert/payment.html?product=Mini App&price=150000
2. –í—ã–±–µ—Ä–∏—Ç–µ "–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π"
3. –í–≤–µ–¥–∏—Ç–µ email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω
4. –ù–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ"
5. –í –æ–∫–Ω–µ T-Bank –≤–≤–µ–¥–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É: 4300 0000 0000 0777
6. CVV: 123, –°—Ä–æ–∫: 12/25
7. 3D-Secure –∫–æ–¥: 12345678
8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ success page
```

### –¢–µ—Å—Ç 2: –†–∞—Å—Å—Ä–æ—á–∫–∞ 0-0-12
```bash
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://miniapp.expert/payment.html
2. –í—ã–±–µ—Ä–∏—Ç–µ "–†–∞—Å—Å—Ä–æ—á–∫–∞ 0-0-12"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫: 12 –º–µ—Å—è—Ü–µ–≤
4. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞—Å—á–µ—Ç –µ–∂–µ–º–µ—Å—è—á–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
```

### –¢–µ—Å—Ç 3: –û–ø–ª–∞—Ç–∞ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```bash
1. https://miniapp.expert/real-estate-solution.html
2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç—É—Ä—ã (+20,000‚ÇΩ)
   - –ò–ø–æ—Ç–µ—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (+15,000‚ÇΩ)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã: 185,000‚ÇΩ
4. –ù–∞–∂–º–∏—Ç–µ "–û–ø–ª–∞—Ç–∏—Ç—å —Å–µ–π—á–∞—Å"
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ü–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞–ª–∞—Å—å
6. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –æ–ø–ª–∞—Ç—É
```

### –¢–µ—Å—Ç 4: –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
```bash
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Ä—Ç—É: 4300 0000 0000 0002
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–∫–∏
3. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π

### –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ T-Bank:
```
1. –í–æ–π–¥–∏—Ç–µ: https://www.tbank.ru/kassa/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ü–ª–∞—Ç–µ–∂–∏"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
4. –°—Ç–∞—Ç—É—Å—ã:
   - NEW - —Å–æ–∑–¥–∞–Ω
   - AUTHORIZED - –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
   - CONFIRMED - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω
   - REJECTED - –æ—Ç–∫–ª–æ–Ω–µ–Ω
```

### –í localStorage:
```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
console.log(JSON.parse(localStorage.getItem('payments')));

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–∫–∞–∑—ã
console.log(JSON.parse(localStorage.getItem('orders')));
```

---

## üéØ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å

### ‚úÖ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ (Init)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ (GetState)
- [ ] –û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –æ–ø–ª–∞—Ç—ã
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### ‚úÖ UI/UX:
- [ ] –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
- [ ] –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ä–æ—á–∫–∏
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É–º–º—ã
- [ ] Success page

### ‚úÖ –î–∞–Ω–Ω—ã–µ:
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
- [ ] –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ URL
- [ ] Email –∫–ª–∏–µ–Ω—Ç–∞
- [ ] –¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### Console logs:
```javascript
// –í–∫–ª—é—á–µ–Ω—ã –ª–æ–≥–∏:
- 'Creating T-Bank payment:' - –¥–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞
- 'Checking payment status:' - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- 'T-Bank error:' - –æ—à–∏–±–∫–∏ API
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ DevTools:
```
1. F12 ‚Üí Network tab
2. Filter: Fetch/XHR
3. –ù–∞–π—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã –∫ securepay.tinkoff.ru
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Request/Response
5. –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 200
```

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

### Error: "Invalid TerminalKey"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### Error: "Invalid Token"  
**–†–µ—à–µ–Ω–∏–µ:** –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Token (SHA-256 —Ö–µ—à)

### CORS Error
**–†–µ—à–µ–Ω–∏–µ:** API –≤—ã–∑–æ–≤—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞, –Ω–µ —Å –∫–ª–∏–µ–Ω—Ç–∞  
**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JSONP –∏–ª–∏ –ø—Ä–æ–∫—Å–∏

---

## üöÄ Production —Ä–µ–∂–∏–º

### –ö–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ production:
1. –¢–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
2. –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
3. UI —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ü–æ–ª—É—á–µ–Ω–∏–µ production –∫–ª—é—á–µ–π:
```
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: https://www.tbank.ru/kassa/
2. –ü—Ä–æ–π—Ç–∏ –º–æ–¥–µ—Ä–∞—Ü–∏—é
3. –ü–æ–ª—É—á–∏—Ç—å production Terminal Key
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook
5. –û–±–Ω–æ–≤–∏—Ç—å –≤ tbank-payment.js
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –ü–æ–ª–Ω–∞—è –æ–ø–ª–∞—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –†–∞—Å—Å—Ä–æ—á–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (3/6/12/24 –º–µ—Å)
- [ ] –¢–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è
- [ ] Success page –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- [ ] Email/—Ç–µ–ª–µ—Ñ–æ–Ω –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è
- [ ] –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- [ ] –°—É–º–º–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ —Ü–µ–Ω–µ
- [ ] Payment window –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

---

## üåê –¢–µ—Å—Ç–æ–≤—ã–µ URL

```
Payment page:
https://miniapp.expert/payment.html

With params:
https://miniapp.expert/payment.html?product=Test&price=1000

Success page:
https://miniapp.expert/payment-success.html?orderId=ORDER_123

Real estate:
https://miniapp.expert/real-estate-solution.html
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ç–µ—Å—Ç–∞:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Å—É–º–º—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ—à–∏–±–∫–∏
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

### –î–ª—è production:
- üîê –°–µ—Ä–≤–µ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–Ω–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è!)
- üîê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Token (SHA-256)
- üîê Webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
- üìß Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–µ localStorage)

---

## üöÄ Status

**–¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª:** ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω  
**API –≤—ã–∑–æ–≤—ã:** ‚úÖ –í–∫–ª—é—á–µ–Ω—ã  
**–†–µ–∂–∏–º:** üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
**Date:** 19 Oct 2025, 23:10 MSK

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**T-Bank –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [API Reference](https://www.tbank.ru/kassa/dev/payments/)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](https://www.tbank.ru/kassa/dev/payments/test/)

**Telegram:**
- @miniappexpert

---

**–ù–∞—á–∏–Ω–∞–π—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ! üß™üí≥**

