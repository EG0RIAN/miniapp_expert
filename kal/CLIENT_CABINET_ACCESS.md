# Как зайти в личный кабинет клиента

## Доступ к личному кабинету

Личный кабинет клиента доступен по адресу: **https://miniapp.expert/cabinet.html**

## Процесс входа

### 1. Регистрация нового пользователя

1. Перейдите на страницу входа: **https://miniapp.expert/login.html**
2. Нажмите на вкладку **"Регистрация"**
3. Заполните форму:
   - **Имя и фамилия** (опционально)
   - **Email** (обязательно)
   - **Телефон** (обязательно)
   - **Пароль** (минимум 6 символов)
   - **Подтвердите пароль**
   - Примите условия использования
4. Нажмите **"Зарегистрироваться"**
5. После успешной регистрации вы автоматически войдете в личный кабинет

### 2. Вход существующего пользователя

1. Перейдите на страницу входа: **https://miniapp.expert/login.html**
2. Заполните форму:
   - **Email** (ваш email)
   - **Пароль** (ваш пароль)
3. Нажмите **"Войти"**
4. После успешного входа вы будете перенаправлены в личный кабинет

## Существующие пользователи

В системе уже есть несколько тестовых пользователей:
- `e.arkhiptsev@gmail.com`
- `test999@miniapp.expert`
- `newuser@miniapp.expert`
- `test1762472392@miniapp.expert`

Для входа используйте ваш email и пароль, который вы установили при регистрации.

## Структура личного кабинета

После входа вы увидите следующие разделы:

### 1. Мои продукты
- Список всех ваших продуктов
- Статус продуктов (активен, истек, ожидает)
- Даты начала и окончания
- Кнопки для управления продуктом

### 2. Мои подписки
- Список активных подписок
- Дата следующего платежа
- Стоимость подписки
- Возможность продления

### 3. История платежей
- Таблица всех платежей
- Статус платежа
- Сумма и дата
- Ссылка на чек (если доступна)
- Общая сумма потраченных средств

### 4. Профиль
- Личные данные (имя, email, телефон)
- Изменение пароля (в разработке)
- Статистика (продукты, подписки, платежи)
- Дата регистрации

### 5. Партнерская программа
- Реферальная ссылка
- Статистика рефералов
- Заработанные средства
- Доступный баланс
- История выплат
- Запрос на вывод средств

## Технические детали

### Аутентификация
- Используется JWT (JSON Web Token) для аутентификации
- Токен сохраняется в `localStorage` как `userToken`
- Токен отправляется в заголовке `Authorization: Bearer <token>`
- При истечении токена пользователь автоматически перенаправляется на страницу входа

### API Endpoints
Все данные загружаются из Django API:
- `GET /api/auth/profile/` - профиль пользователя
- `GET /api/client/dashboard/` - статистика
- `GET /api/client/products/` - продукты
- `GET /api/client/payments/` - платежи
- `GET /api/client/referrals/` - реферальная программа

## Создание тестового пользователя

Если нужно создать тестового пользователя для проверки:

```bash
cd /home/miniapp_expert/api-django
source venv/bin/activate
python manage.py shell
```

```python
from apps.users.models import User

# Создать пользователя
user = User.objects.create_user(
    email='test@example.com',
    password='test123',
    name='Test User',
    role='client'
)
print(f'User created: {user.email}')
print(f'Password: test123')
```

## Восстановление пароля

Функция восстановления пароля находится в разработке. Если вы забыли пароль, обратитесь в поддержку.

## Поддержка

Если у вас возникли проблемы с входом в личный кабинет:
1. Проверьте, что вы используете правильный email и пароль
2. Убедитесь, что ваша учетная запись активна
3. Очистите кеш браузера и попробуйте снова
4. Обратитесь в поддержку: hello@miniapp.expert

## Безопасность

- Пароли хранятся в зашифрованном виде (PBKDF2)
- JWT токены имеют срок действия (24 часа)
- Все запросы к API защищены аутентификацией
- HTTPS используется для всех соединений

## Быстрый доступ

- **Страница входа:** https://miniapp.expert/login.html
- **Личный кабинет:** https://miniapp.expert/cabinet.html
- **Главная страница:** https://miniapp.expert/
