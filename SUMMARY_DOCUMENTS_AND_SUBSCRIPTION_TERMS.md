# –ò—Ç–æ–≥–∏: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ —É—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –£—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `subscription_terms` –≤ –º–æ–¥–µ–ª—å `Product` (ForeignKey –∫ `Document`)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∫–∞: –ø–æ–ª–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—Å–ª–æ–≤–∏–π –ø–æ–¥–ø–∏—Å–∫–∏ –≤ –∫–∞–∂–¥–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ
- ‚úÖ API –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `subscription_terms` –≤ –æ—Ç–≤–µ—Ç–µ
- ‚úÖ PreOrder API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
- ‚úÖ `payment.html` –∑–∞–≥—Ä—É–∂–∞–µ—Ç —É—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –∏–∑ API –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Å—ã–ª–∫—É

### 2. –ü—É–±–ª–∏—á–Ω—ã–π API –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω `PublicDocumentView` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ API
- ‚úÖ API endpoints:
  - `GET /api/documents/` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
  - `GET /api/documents/<document_type>/` - –ø–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ —Ç–∏–ø—É
- ‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Nginx (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ)

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
- ‚úÖ –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å `Document` –≤ –∞–¥–º–∏–Ω–∫–µ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ API –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ URL
- ‚úÖ –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: `privacy`, `affiliate_terms`, `cabinet_terms`, `subscription_terms`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- ‚úÖ `payment.html` –∑–∞–≥—Ä—É–∂–∞–µ—Ç —É—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –∏–∑ API –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- ‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ API
- ‚úÖ –ï—Å–ª–∏ —É –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ—Ç —É—Å–ª–æ–≤–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç `/subscription-terms.html`

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ –∞–¥–º–∏–Ω–∫–µ

1. **–°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ç–∏–ø–∞ "–£—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏"**
   - –ó–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É: `/admin/documents/document/`
   - –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —Å —Ç–∏–ø–æ–º `subscription_terms`
   - –ó–∞–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç (HTML) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞-–ø–æ–¥–ø–∏—Å–∫–∏
   - –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (`is_published=True`) –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å (`is_active=True`)

2. **–ù–∞–∑–Ω–∞—á–∏—Ç—å —É—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º**
   - –ó–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É: `/admin/products/product/`
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞-–ø–æ–¥–ø–∏—Å–∫–∏ –≤—ã–±—Ä–∞—Ç—å `subscription_terms`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

3. **–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã**
   - –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ (`privacy`) - —É–∂–µ –µ—Å—Ç—å
   - –£—Å–ª–æ–≤–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã (`affiliate_terms`) - —Å–æ–∑–¥–∞—Ç—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
   - –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –õ–ö (`cabinet_terms`) - —Å–æ–∑–¥–∞—Ç—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
   - –£—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ (`subscription_terms`) - —Å–æ–∑–¥–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### API –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```bash
# –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
curl https://miniapp.expert/api/documents/privacy/

# –£—Å–ª–æ–≤–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã
curl https://miniapp.expert/api/documents/affiliate_terms/

# –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –õ–ö
curl https://miniapp.expert/api/documents/cabinet_terms/

# –£—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
curl https://miniapp.expert/api/documents/subscription_terms/
```

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–∑–∞–∫–∞–∑: `POST /api/order/pre-order/create` —Å `product_slug`
2. –û—Ç–∫—Ä—ã—Ç—å `/payment.html?pre_order_id=<uuid>`
3. –î–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —É—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
4. –°—Å—ã–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –≤–µ—Å—Ç–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –∏–∑ –∞–¥–º–∏–Ω–∫–∏

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend
1. `api-django/apps/products/models.py` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `subscription_terms`
2. `api-django/apps/products/admin.py` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∫–∞
3. `api-django/apps/products/serializers.py` - –¥–æ–±–∞–≤–ª–µ–Ω `subscription_terms` –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
4. `api-django/apps/products/migrations/0002_add_subscription_terms_to_product.py` - –º–∏–≥—Ä–∞—Ü–∏—è
5. `api-django/apps/documents/public_views.py` - –Ω–æ–≤—ã–π —Ñ–∞–π–ª, –ø—É–±–ª–∏—á–Ω—ã–π API
6. `api-django/apps/documents/api_urls.py` - –Ω–æ–≤—ã–π —Ñ–∞–π–ª, API URLs
7. `api-django/apps/documents/urls.py` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è HTML –∏ API URLs
8. `api-django/apps/orders/views.py` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ `subscription_terms`
9. `api-django/miniapp_api/urls.py` - –¥–æ–±–∞–≤–ª–µ–Ω –ø—É—Ç—å –¥–ª—è API –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### Frontend
1. `site/payment.html` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —É—Å–ª–æ–≤–∏–π –ø–æ–¥–ø–∏—Å–∫–∏ –∏–∑ API

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏

–ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
- ‚úÖ `products.0002_add_subscription_terms_to_product` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- ‚úÖ `products.0003_userproduct_payment_method` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–∞)

## üöÄ –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- ‚úÖ –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- ‚úÖ Gunicorn –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ API –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –í –∞–¥–º–∏–Ω–∫–µ —Å–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ç–∏–ø–∞ `subscription_terms` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞-–ø–æ–¥–ø–∏—Å–∫–∏
2. –ù–∞–∑–Ω–∞—á–∏—Ç—å —É—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –∫–∞–∂–¥–æ–º—É –ø—Ä–æ–¥—É–∫—Ç—É
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ï—Å–ª–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã —É—Å–ª–æ–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç `/subscription-terms.html`
- –î–æ–∫—É–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –∞–¥–º–∏–Ω–∫–∏ —á–µ—Ä–µ–∑ API, –Ω–æ —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ URL
- –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã (`is_published=True`) –∏ –∞–∫—Ç–∏–≤–Ω—ã (`is_active=True`)
- API –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Nginx, —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

