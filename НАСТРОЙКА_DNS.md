# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

Certbot –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–æ–º–µ–Ω—ã –Ω–µ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä.

**–¢–µ–∫—É—â–∞—è –æ—à–∏–±–∫–∞:**
```
DNS problem: NXDOMAIN looking up A for miniapp.expert
DNS problem: NXDOMAIN looking up A for www.miniapp.expert  
DNS problem: NXDOMAIN looking up A for demoapp.miniapp.expert
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏

–ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º (–≥–¥–µ –ø–æ–∫—É–ø–∞–ª–∏ `miniapp.expert`) –∏ –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ A-–∑–∞–ø–∏—Å–∏:

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ DNS –∑–∞–ø–∏—Å–∏:

| –ò–º—è —Ö–æ—Å—Ç–∞ | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ (IP) | TTL |
|-----------|-----|---------------|-----|
| @ | A | 85.198.110.66 | 3600 |
| www | A | 85.198.110.66 | 3600 |
| demoapp | A | 85.198.110.66 | 3600 |

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞:**
- `@` –æ–∑–Ω–∞—á–∞–µ—Ç `miniapp.expert`
- `www` –æ–∑–Ω–∞—á–∞–µ—Ç `www.miniapp.expert`
- `demoapp` –æ–∑–Ω–∞—á–∞–µ—Ç `demoapp.miniapp.expert`

---

## üïê –û–∂–∏–¥–∞–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è DNS –∑–∞–ø–∏—Å–µ–π, –ø–æ–¥–æ–∂–¥–∏—Ç–µ 5-30 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:

```bash
dig miniapp.expert +short
dig www.miniapp.expert +short
dig demoapp.miniapp.expert +short
```

–í—Å–µ —Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å: **85.198.110.66**

---

## üîí –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS

–ö–æ–≥–¥–∞ DNS –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
ssh root@85.198.110.66
# –ü–∞—Ä–æ–ª—å: h421-5882p7vUqkFn+EF

cd /home/miniapp_expert
certbot --nginx -d miniapp.expert -d www.miniapp.expert -d demoapp.miniapp.expert --non-interactive --agree-tos --email hello@miniapp.expert --redirect
```

–ò–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:

```bash
cd /Users/arkhiptsev/dev/rello
./install-ssl-when-dns-ready.sh
```

---

## ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–±–µ–∑ SSL):

–ü–æ–∫–∞ DNS –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è, –≤–∞—à–∏ —Å–∞–π—Ç—ã —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ HTTP:

- üåê **http://85.198.110.66** - —Ä–∞–±–æ—Ç–∞–µ—Ç nginx
- ü§ñ **Telegram –±–æ—Ç** - –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–∫–µ–Ω: 8395636611:AAH...)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
curl -I http://85.198.110.66
```

---

## üìã –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è SSL:

–í–∞—à–∏ —Å–∞–π—Ç—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:

üåê **https://miniapp.expert**  
üåê **https://www.miniapp.expert**  
üì± **https://demoapp.miniapp.expert**

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –°—Ç–∞—Ç—É—Å nginx
systemctl status nginx

# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
pm2 status

# –õ–æ–≥–∏ –±–æ—Ç–∞
pm2 logs miniapp-bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–≥–¥–∞ DNS –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç
certbot certificates
```

---

## üìù –ì–¥–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DNS?

–û–±—ã—á–Ω–æ DNS –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤:
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–º–µ–Ω–∞** (–≥–¥–µ –ø–æ–∫—É–ø–∞–ª–∏ miniapp.expert): REG.RU, TIMEWEB, GoDaddy –∏ —Ç.–¥.
- **Cloudflare** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
- **–ü–∞–Ω–µ–ª—å —Ö–æ—Å—Ç–∏–Ω–≥–∞** (–µ—Å–ª–∏ –¥–æ–º–µ–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–∞–º)

–ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "DNS Management" –∏–ª–∏ "DNS –∑–æ–Ω–∞" –∏–ª–∏ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS".

---

## ‚è±Ô∏è –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è

- **–ú–∏–Ω–∏–º—É–º**: 5-10 –º–∏–Ω—É—Ç
- **–û–±—ã—á–Ω–æ**: 30 –º–∏–Ω—É—Ç
- **–ú–∞–∫—Å–∏–º—É–º**: –¥–æ 48 —á–∞—Å–æ–≤ (—Ä–µ–¥–∫–æ)

–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π `dig` –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç.

---

**–°–µ—Ä–≤–µ—Ä:** 85.198.110.66  
**–ë–æ—Ç:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**Nginx:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–û—Å—Ç–∞–ª–æ—Å—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS ‚Üí –ü–æ–ª—É—á–∏—Ç—å SSL






